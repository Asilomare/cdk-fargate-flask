<!-- index.html -->

<h1>Task Manager</h1>

<form action="/add" method="post">
    <label for="description">Description</label>
    <input type="text" name="description" required>
    <br>
    <label for="status">Status</label>
    <select name="status" required>
        <option value="Incomplete">Incomplete</option>
        <option value="Complete">Complete</option>
    </select>
    <br>
    <label for="due_date">Due Date</label>
    <input type="date" name="due_date" required>
    <br>
    <label for="priority">Priority</label>
    <select name="priority" required>
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
    </select>
    <br>
    <input type="submit" value="Add Task">
</form>

<h2>Tasks</h2>

<form action="/filter" method="post">
    <label for="status_filter">Filter by status:</label>
    <select name="status_filter">
        <option value="All">All</option>
        <option value="Incomplete">Incomplete</option>
        <option value="Complete">Complete</option>
    </select>
    <br>
    <input type="submit" value="Filter">
</form>

<table>
    <tr>
        <th>Description</th>
        <th>Status</th>
        <th>Due Date</th>
        <th>Priority</th>
        <th>Actions</th>
    </tr>
    {% for task in tasks %}
    <tr>
        <td>{{ task.description }}</td>
        <td>{{ task.status }}</td>
        <td>{{ task.due_date }}</td>
        <td>{{ task.priority }}</td>
        <td>
            <a href="/complete/{{ task.id }}">Mark as Complete</a>
            <a href="/edit/{{ task.id }}">Edit</a>
        </td>
    </tr>
    {% endfor %}
</table>
